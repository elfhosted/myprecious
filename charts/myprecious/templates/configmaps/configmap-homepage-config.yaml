{{ if .Values.homepage.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
data:
  kubernetes.yaml: |
    mode: cluster  

  settings.yaml: |
    title: {{.Release.Name}}'s ElfHosted Services
    background: https://{{ .Release.Name }}.elfhosted.com/assets/backgrounds/background-dark.jpg
    favicon: https://elfhosted.com/images/logo.png
    
    statusStyle: "basic"
    hideErrors: false # We want to be advised to our API errors
    layout:
      - Links:
          style: row
          columns: 4
          header: false
      - Consume Media:
          icon: mdi-sofa
      - Manage Media:
          icon: mdi-multimedia
      - Download Media:
          icon: mdi-cloud-download
      - General Tools:
          icon: mdi-toolbox
      - Migration Tools:
          icon: mdi-human-dolly

  services.yaml: |
    - Consume Media:

        {{ if or .Values.jellyfin.enabled .Values.jellyfinranger.enabled .Values.jellyfinhobbit.enabled .Values.jellyfinhalfling.enabled .Values.jellyfinnazgul.enabled }}
        - Jellyfin:
            icon: jellyfin.png
            href: https://{{ .Release.Name }}-jellyfin.{{ .Values.dns_domain }}
            description: Stream Media
            siteMonitor: http://jellyfin:8096
            widget:
              type: jellyfin
              url: http://jellyfin:8096
              key: {{`{{HOMEPAGE_FILE_JELLYFIN_KEY}}`}} 
        {{ end }} 

        {{ if or .Values.plex.enabled .Values.plexranger.enabled .Values.plexhobbit.enabled .Values.plexhalfling.enabled .Values.plexnazgul.enabled }}
        - Plex:
            icon: plex.png
            href: https://{{ .Release.Name }}-plex.{{ .Values.dns_domain }}
            description: Stream Media
            siteMonitor: http://plex:32400
            widget:
              type: plex
              url: http://plex:32400
              key: {{`{{HOMEPAGE_FILE_PLEX_KEY}}`}} 
        {{ end }}

        {{ if or .Values.emby.enabled .Values.embyranger.enabled .Values.embyhobbit.enabled .Values.embyhalfling.enabled .Values.embynazgul.enabled }}
        - Emby:
            icon: emby.png
            href: https://{{ .Release.Name }}-emby.{{ .Values.dns_domain }}
            description: Stream Media
            siteMonitor: http://emby:8096
            widget:
              type: jellyfin
              url: http://emby:8096
              key: {{`{{HOMEPAGE_FILE_EMBY_KEY}}`}} 
        {{ end }} 
        
        {{ if .Values.navidrome.enabled }}
        - Navidrome:
            icon: navidrome.png
            href: https://{{ .Release.Name }}-navidrome.{{ .Values.dns_domain }}
            description: Stream Music
            siteMonitor: http://navidrome:4533
            widget:
              type: navidrome
              url: http://navidrome:4533
              user: {{`{{HOMEPAGE_FILE_NAVIDROME_USER}}`}} 
              token: {{`{{HOMEPAGE_FILE_NAVIDROME_TOKEN}}`}} 
              salt: {{`{{HOMEPAGE_FILE_NAVIDROME_SALT}}`}} 
        {{ end }}      

        {{ if .Values.calibreweb.enabled }}
        - Calibre Web:
            icon: calibre-web.png
            href: https://{{ .Release.Name }}-calibre-web.{{ .Values.dns_domain }}
            description: Consume eBooks
            siteMonitor: http://calibreweb:8083
            # not supported in our version yet
            # widget:
            #   type: calibreweb
            #   url: http://calibreweb:8083
            #   username: {{`{{HOMEPAGE_FILE_CALIBREWEB_USERNAME}}`}} 
            #   password: {{`{{HOMEPAGE_FILE_CALIBREWEB_PASSWORDN}}`}} 
        {{ end }}

        {{ if .Values.cwabookdownloader.enabled }}
        - CWA Book Downloader:
            icon: calibre-web.png
            href: https://{{ .Release.Name }}-cwa-book-downloader.{{ .Values.dns_domain }}
            description: Download eBooks
            siteMonitor: http://cwa-book-downloader:8084
        {{ end }}        
        
        {{ if .Values.calibre.enabled }}
        - Calibre:
            icon: calibre.png
            href: https://{{ .Release.Name }}-calibre.{{ .Values.dns_domain }}
            description: Manage eBooks
            siteMonitor: http://calibre:8080
        {{ end }}             
                      
        {{ if .Values.komga.enabled }}
        - Komga:
            icon: komga.png
            href: https://{{ .Release.Name }}-komga.{{ .Values.dns_domain }}
            description: Manage Comics
            siteMonitor: http://komga:25600
            widget:
              type: komga
              url: http://komga:25600
              username: {{`{{HOMEPAGE_FILE_KOMGA_USERNAME}}`}} 
              password: {{`{{HOMEPAGE_FILE_KOMGA_PASSWORD}}`}}            
        {{ end }}   

        {{ if .Values.kavita.enabled }}
        - Kavita:
            icon: kavita.png
            href: https://{{ .Release.Name }}-kavita.{{ .Values.dns_domain }}
            description: Manage Comics / Books
            siteMonitor: http://kavita:5000
            widget:
              type: kavita
              url: http://kavita:5000
              username: {{`{{HOMEPAGE_FILE_KAVITA_USERNAME}}`}} 
              password: {{`{{HOMEPAGE_FILE_KAVITA_PASSWORD}}`}}            
        {{ end }}   

        {{ if .Values.booklore.enabled }}
        - Booklore:
            icon: booklore.png
            href: https://{{ .Release.Name }}-booklore.{{ .Values.dns_domain }}
            description: Manage PDFs / Books
            siteMonitor: http://booklore:6060
        {{ end }}             

        {{ if .Values.audiobookshelf.enabled }}
        - Audio Bookshelf:
            icon: audiobookshelf.png
            href: https://{{ .Release.Name }}-audiobookshelf.{{ .Values.dns_domain }}
            description: Consume Audio Books / Podcasts
            siteMonitor: http://audiobookshelf:8000
            widget:
              type: audiobookshelf
              url: http://audiobookshelf:8000
              key: {{`{{HOMEPAGE_FILE_AUDIOBOOKSHELF_KEY}}`}}            
        {{ end }}  

        {{ if .Values.storyteller.enabled }}
        - Story Teller:
            icon: mdi-book
            href: https://{{ .Release.Name }}-storyteller.{{ .Values.dns_domain }}
            description: Listen to / Read books
            siteMonitor: http://storyteller:8001
        {{ end }}                                  

        {{ if .Values.jackettio.enabled }}
        - Jackettio:
            icon: jackett.png
            href: https://{{ .Release.Name }}-jackettio.{{ .Values.dns_domain }}
            description: Stremio Addon supporting private trackers
            siteMonitor: http://jackettio:4000
        {{ end }}     

        {{ if .Values.davio.enabled }}
        - Davio:
            icon: webdav.png
            href: https://{{ .Release.Name }}-davio.{{ .Values.dns_domain }}
            description: Stremio Addon to serve your WebDAV content
            siteMonitor: http://davio:4000
        {{ end }}                           

        {{ if .Values.comet.enabled }}
        - Comet:
            icon: mdi-meteor
            href: https://{{ .Release.Name }}-comet.{{ .Values.dns_domain }}
            description: Stremio's fastest torrent/debrid search add-on
            siteMonitor: http://comet:8000
        {{ end }} 

        {{ if .Values.aiostreams.enabled }}
        - AIOStreams:
            icon: mdi-filmstrip-box-multiple
            href: https://{{ .Release.Name }}-aiostreams.{{ .Values.dns_domain }}
            description: Combine multiple Stremio addons for tidy results
            siteMonitor: http://aiostreams:3000
        {{ end }}        

        {{ if .Values.nuviostreams.enabled }}
        - Nuvio Streams:
            icon: mdi-filmstrip-box-multiple
            href: https://{{ .Release.Name }}-nuviostreams.{{ .Values.dns_domain }}
            description: HTTP Streams in Stremio
            siteMonitor: http://nuviostreams:7777
        {{ end }}                          

        {{ if .Values.youriptv.enabled }}
        - YourIPTV:
            icon: mdi-tv
            href: https://{{ .Release.Name }}-youriptv.{{ .Values.dns_domain }}
            description: Watch your IPTV in Stremio
            siteMonitor: http://youriptv:3649
        {{ end }}                                

        {{ if .Values.stremthru.enabled }}
        - StremThru:
            icon: mdi-tools
            href: https://{{ .Release.Name }}-stremthru.{{ .Values.dns_domain }}
            description: Stremio / Debrid Multitool
            siteMonitor: http://stremthru:8080
        {{ end }}   

        {{ if .Values.mediafusion.enabled }}
        - MediaFusion:
            icon: mdi-atom
            href: https://{{ .Release.Name }}-mediafusion.{{ .Values.dns_domain }}
            description: Multi-source AddOn for Stremio
            siteMonitor: http://mediafusion:8000
        {{ end }}   

        {{ if .Values.mediaflowproxy.enabled }}
        - Mediaflow Proxy:
            icon: mdi-content-copy
            href: https://{{ .Release.Name }}-mediaflow-proxy.{{ .Values.dns_domain }}
            description: Streaming Video Proxy
            siteMonitor: http://mediaflow-proxy:8888
        {{ end }}            

        {{ if .Values.webstreamr.enabled }}
        - WebStreamr:
            icon: mdi-tv
            href: https://{{ .Release.Name }}-webstreamr.{{ .Values.dns_domain }}
            description: Watch HTTP streams in Stremio
            siteMonitor: http://webstreamr:51546
        {{ end }}                                      

        {{ if .Values.flixio.enabled }}
        - Flixio:
            icon: mdi-tv
            href: "https://{{ .Release.Name }}-flixio.{{ .Values.dns_domain }}"
            description: Stremio (Anonymous)
            siteMonitor: http://flixio:8080
        {{ end }}  

    - Manage Media:
        {{ if .Values.radarr.enabled }}
        - Radarr:
            icon: radarr.png
            href: https://{{ .Release.Name }}-radarr.{{ .Values.dns_domain }}
            description: Manage Movies
            siteMonitor: http://radarr:7878
            widget:
              type: radarr
              url: http://radarr:7878
              key: {{ .Values.radarrexposed.apikey }}
        {{ end }}  

        {{ if .Values.radarr4k.enabled }}
        - Radarr 4K:
            icon: radarr.png
            href: https://{{ .Release.Name }}-radarr4k.{{ .Values.dns_domain }}
            description: Manage 4K Movies
            siteMonitor: http://radarr4k:7878
            widget:
              type: radarr
              url: http://radarr4k:7878
              key: {{ .Values.radarr4kexposed.apikey }}
        {{ end }}              

        {{ if .Values.sonarr.enabled }}
        - Sonarr:
            icon: sonarr.png
            href: https://{{ .Release.Name }}-sonarr.{{ .Values.dns_domain }}
            description: Manage Series
            siteMonitor: http://sonarr:8989
            widget:
              type: sonarr
              url: http://sonarr:8989
              key: {{ .Values.sonarrexposed.apikey }}
        {{ end }}  

        {{ if .Values.sonarr4k.enabled }}
        - Sonarr 4K:
            icon: sonarr.png
            href: https://{{ .Release.Name }}-sonarr4k.{{ .Values.dns_domain }}
            description: Manage 4K Series
            siteMonitor: http://sonarr4k:8989
            widget:
              type: sonarr
              url: http://sonarr4k:8989
              key: {{ .Values.sonarr4kexposed.apikey }}
        {{ end }}   

        {{ if .Values.lidarr.enabled }}
        - Lidarr:
            icon: lidarr.png
            href: https://{{ .Release.Name }}-lidarr.{{ .Values.dns_domain }}
            description: Manage Music
            siteMonitor: http://lidarr:8686
            widget:
              type: lidarr
              url: http://lidarr:8686
              key: {{ .Values.lidarrexposed.apikey }}
        {{ end }}   

        {{ if .Values.readarr.enabled }}
        - Readarr:
            icon: readarr.png
            href: https://{{ .Release.Name }}-readarr.{{ .Values.dns_domain }}
            description: Manage eBooks
            siteMonitor: http://readarr:8787
            widget:
              type: readarr
              url: http://readarr:8787
              key: {{ .Values.readarrexposed.apikey }}     
        {{ end }}             

        {{ if .Values.readarraudio.enabled }}
        - Readarr Audio:
            icon: readarr.png
            href: https://{{ .Release.Name }}-readarraudio.{{ .Values.dns_domain }}
            description: Manage AudioBooks
            siteMonitor: http://readarraudio:8787
            widget:
              type: readarr
              url: http://readarraudio:8787
              key: {{ .Values.readarraudioexposed.apikey }}     
        {{ end }}

        {{ if .Values.huntarr.enabled }}
        - Huntarr:
            icon: huntarr.png
            href: https://{{ .Release.Name }}-huntarr.{{ .Values.dns_domain }}
            description: Hunt for missing movies / episodes
            siteMonitor: http://huntarr:9705
        {{ end }}   

        {{ if .Values.autopulse.enabled }}
        - Autopulse:
            icon: huntarr.png
            href: https://{{ .Release.Name }}-autopulse.{{ .Values.dns_domain }}
            description: Hunt for missing movies / episodes
            siteMonitor: http://autopulse:2880            
        {{ end }}                  

        {{ if .Values.lazylibrarian.enabled }}
        - Lazy Librarian:
            icon: lazylibrarian.png
            href: https://{{ .Release.Name }}-lazylibrarian.{{ .Values.dns_domain }}
            description: Manage eBooks  
            siteMonitor: http://lazylibrarian:5299
        {{ end }}  

        {{ if .Values.bazarr.enabled }}
        - Bazarr:
            icon: bazarr.png
            href: https://{{ .Release.Name }}-bazarr.{{ .Values.dns_domain }}
            description: Manage Subtitles
            siteMonitor: http://bazarr:6767
            widget:
              type: bazarr
              url: http://bazarr:6767
              key: {{ .Values.bazarrexposed.apikey }}        
        {{ end }}  

        {{ if .Values.bazarr4k.enabled }}
        - Bazarr 4K:
            icon: bazarr.png
            href: https://{{ .Release.Name }}-bazarr4k.{{ .Values.dns_domain }}
            description: Manage Subtitles (4K)
            siteMonitor: http://bazarr4k:6767
            widget:
              type: bazarr
              url: http://bazarr4k:6767
              key: {{ .Values.bazarr4kexposed.apikey }}         
        {{ end }}   

        {{ if .Values.arrtools.enabled }}
        - Arr Tools:
            icon: mdi-cirle
            href: https://{{ .Release.Name }}-arrtools.{{ .Values.dns_domain }}
            description: Tools to manage Aars
            siteMonitor: http://aartools:3001
        {{ end }}          

        {{ if .Values.mylar.enabled }}
        - Mylar:
            icon: mylar.png
            href: https://{{ .Release.Name }}-mylar.{{ .Values.dns_domain }}
            description: Manage Comics
            siteMonitor: http://mylar:8090
            widget:
              type: mylar
              url: http://mylar:8090
              key: {{ .Values.mylarrexposed.apikey }}     
        {{ end }} 

        {{ if .Values.kapowarr.enabled }}
        - Kapowarr:
            icon: mylar.png
            href: https://{{ .Release.Name }}-kapowarr.{{ .Values.dns_domain }}
            description: Manage Comics
            siteMonitor: http://kapowarr:5656  
        {{ end }}            

        {{ if .Values.rpdb.enabled }}
        - RPDB:
            icon: mdi-star-half-full
            href: https://{{ .Release.Name }}-rpdb.{{ .Values.dns_domain }}
            description: Manage Rating Posters  
            siteMonitor: http://rpdb:8750    
        {{ end }}   
        
        {{ if .Values.ombi.enabled }}
        - Ombi:
            icon: ombi.png
            href: https://{{ .Release.Name }}-ombi.{{ .Values.dns_domain }}
            description: Manage Requests   
            siteMonitor: http://ombi:5000  
            widget:
              type: ombi
              url: http://ombi:5000
              key: {{`{{HOMEPAGE_FILE_OMBI_KEY}}`}}       
        {{ end }}    

        {{ if .Values.suggestarr.enabled }}
        - Suggestarr:
            icon: mylar.png
            href: https://{{ .Release.Name }}-suggestarr.{{ .Values.dns_domain }}
            description: Automate suggestions
            siteMonitor: http://suggestarr:5000  
        {{ end }} 

        {{ if .Values.discovarr.enabled }}
        - Discovarr:
            icon: mylar.png
            href: https://{{ .Release.Name }}-discovarr.{{ .Values.dns_domain }}
            description: AI-based suggestions
            siteMonitor: http://discovarr:8000  
        {{ end }}                    

        {{ if .Values.overseerr.enabled }}
        - Overseerr:
            icon: overseerr.png
            {{- if .Values.overseerrcustomdomain.enabled }}
            href: "https://{{ .Values.overseerrcustomdomain.cname | lower }}"
            {{- else }}
            href: "https://{{ .Release.Name }}-overseerr.{{ .Values.dns_domain }}"
            {{- end }}
            description: Manage Requests  
            siteMonitor: http://overseerr:5055   
            widget:
              type: overseerr
              url: http://overseerr:5055
              key: {{`{{HOMEPAGE_FILE_OVERSEERR_KEY}}`}}       
        {{ end }}        

        {{ if .Values.jellyseerr.enabled }}
        - Jellyseerr:
            icon: jellyseerr.png
            {{- if .Values.jellyseerrcustomdomain.enabled }}
            href: "https://{{ .Values.jellyseerrcustomdomain.cname | lower }}"
            {{- else }}
            href: "https://{{ .Release.Name }}-jellyseerr.{{ .Values.dns_domain }}"
            {{- end }}
            description: Manage Requests  
            siteMonitor: http://jellyseerr:5055   
            widget:
              type: jellyseerr
              url: http://jellyseerr:5055
              key: {{`{{HOMEPAGE_FILE_JELLYSEERR_KEY}}`}}       
        {{ end }}       

        {{ if .Values.suggestarr.enabled }}
        - suggestarr:
            icon: mdi-infinity
            href: https://{{ .Release.Name }}-suggestarr.{{ .Values.dns_domain }}
            description: Automamte Requests   
            siteMonitor: http://suggestarr:5000  
        {{ end }}          

        {{ if .Values.petio.enabled }}
        - Petio:
            icon: petio.png
            href: https://{{ .Release.Name }}-petio.{{ .Values.dns_domain }}
            description: Manage Requests   
            siteMonitor: http://petio:7777  
        {{ end }}   

        {{ if .Values.jfa.enabled }}
        - Jellyfin Accounts:
            icon: mdi-account-group
            href: https://{{ .Release.Name }}-jfa.{{ .Values.dns_domain }}
            description: Manage Jellyfin Accounts   
            siteMonitor: http://jfa:8056      
        {{ end }}  

        {{ if .Values.wizarr.enabled }}
        - Wizarr:
            icon: mdi-wizard-hat
            href: https://{{ .Release.Name }}-wizarr.{{ .Values.dns_domain }}
            description: Manage Plex / Emby / Jellyfin Accounts and Invites
            siteMonitor: http://wizarr:5690      
        {{ end }}              

        {{ if .Values.tautulli.enabled }}
        - Tautulli:
            icon: tautulli.png
            href: https://{{ .Release.Name }}-tautulli.{{ .Values.dns_domain }}
            description: Plex Statistics  
            siteMonitor: http://tautulli:8181  
            widget:
              type: tautulli
              url: http://tautulli:8181
              key: {{`{{HOMEPAGE_FILE_TAUTULLI_KEY}}`}}       
        {{ end }}   


        {{ if .Values.jellystat.enabled }}
        - Jellystat:
            icon: jellystat.png
            href: https://{{ .Release.Name }}-jellystat.{{ .Values.dns_domain }}
            description: Jellyfin Statistics  
            siteMonitor: http://jellystat:3000     
        {{ end }}   

        {{ if .Values.tunarr.enabled }}
        - tunarr:
            icon: tunarr.png
            href: https://{{ .Release.Name }}-tunarr.{{ .Values.dns_domain }}
            description: Create "channels" from your Plex media
            siteMonitor: http://tunarr:8000    
        {{ end }}   

        {{ if .Values.ersatztv.enabled }}
        - ersatztv:
            icon: ersatztv.png
            href: https://{{ .Release.Name }}-ersatztv.{{ .Values.dns_domain }}
            description: Create "channels" from your Plex media
            siteMonitor: http://ersatztv:8409    
        {{ end }}           

        {{ if .Values.threadfin.enabled }}
        - Threadfin:
            icon: threadfin.png
            href: https://{{ .Release.Name }}-threadfin.{{ .Values.dns_domain }}
            description: Live TV Proxy for Plex/Jellyfin/Emby
            siteMonitor: http://threadfin:34400    
            widget:
              type: threadfin
              url: http://threadfin:34400
              username: {{`{{HOMEPAGE_FILE_THREADFIN_USERNAME}}`}} 
              password: {{`{{HOMEPAGE_FILE_THREADFIN_PASSWORD}}`}}                 
        {{ end }}    

        {{ if .Values.dispatcharr.enabled }}
        - Dispatcharr:
            icon: dispatcharr.png
            href: https://{{ .Release.Name }}-dispatcharr.{{ .Values.dns_domain }}
            description: Manage IPTV streams and EPG data
            siteMonitor: http://dispatcharr:9191    
        {{ end }}                   

        {{ if .Values.channelsdvr.enabled }}
        - Channels DVR:
            icon: channels.png
            href: https://{{ .Release.Name }}-channelsdvr.{{ .Values.dns_domain }}
            description: Channels. DVR.  
            siteMonitor: http://channelsdvr:8089               
        {{ end }}           

        {{ if .Values.notifiarr.enabled }}
        - Notifiarr:
            icon: notifiarr.png
            href: https://{{ .Release.Name }}-notifiarr.{{ .Values.dns_domain }}
            description: Manage Discord-based Notifications 
            siteMonitor: http://notifiarr:5454                
        {{ end }}   

        {{ if .Values.shoko.enabled }}
        - Shoko:
            icon: shoko.png
            href: https://{{ .Release.Name }}-shoko.{{ .Values.dns_domain }}
            description: Manage Anime      
            siteMonitor: http://shoko:8111   
        {{ end }}      

        {{ if .Values.filebot.enabled }}
        - Filebot:
            icon: filebot.png
            href: https://{{ .Release.Name }}-filebot.{{ .Values.dns_domain }}
            description: Automate Media Management  
            siteMonitor: http://filebot:5452       
        {{ end }}   

        {{ if .Values.plextraktsync.enabled }}
        - PlexTraktSync:
            icon: mdi-sync
            href: https://{{ .Release.Name }}-plextraktsync.{{ .Values.dns_domain }}
            description: Sync Plex and Trakt 
            siteMonitor: http://plextraktsync:3001       
        {{ end }}    

        {{ if .Values.plexytrack.enabled }}
        - PlexyTrack:
            icon: mdi-sync
            href: https://{{ .Release.Name }}-plexytrack.{{ .Values.dns_domain }}
            description: Sync Plex and Trakt 
            siteMonitor: http://plexytrack:5000       
        {{ end }}              

        {{ if .Values.plextraktsync.enabled }}
        - Letterboxd Trakt Sync:
            icon: mdi-sync
            href: https://{{ .Release.Name }}-letterboxd-trakt-sync.{{ .Values.dns_domain }}
            description: Sync Letterboxd and Trakt 
            siteMonitor: http://letterboxd-trakt-sync:3001       
        {{ end }}                       

        {{ if .Values.kometa.enabled }}
        - Kometa:
            icon: mdi-folder-information
            href: https://{{ .Release.Name }}-kometa.{{ .Values.dns_domain }}
            description: Manage Plex Metadata   
            siteMonitor: http://kometa:3001

        - ImageMaid:
            icon: mdi-delete-sweep
            href: https://{{ .Release.Name }}-imagemaid.{{ .Values.dns_domain }}
            description: Clean Plex Images   
            siteMonitor: http://imagemaid:3001
        {{ end }}    

        {{ if .Values.symlinkcleaner.enabled }}
        - Symlink Cleaner:
            icon: mdi-delete-sweep
            href: https://{{ .Release.Name }}-symlink-cleaner.{{ .Values.dns_domain }}
            description: Clean Symlinks
            siteMonitor: http://symlink-cleaner:5000
        {{ end }}                          

        {{ if or .Values.decluttarr.enabled }}
        - Decluttarr:
            icon: mdi-magnify-scan
            href: https://{{ .Release.Name }}-decluttarr.{{ .Values.dns_domain }}
            description: Clean Aarr queues
            # siteMonitor: http://decluttarr:3001          
        {{ end }} 

        {{ if or .Values.recyclarr.enabled }}
        - Recyclarr:
            icon: mdi-recycle
            href: https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/recyclarr/
            description: Configure Recyclarr  
            siteMonitor: http://recyclarr:9898
        {{ end }}  

        {{ if or .Values.profilarr.enabled }}
        - Profilarr:
            icon: mdi-recycle
            href: https://{{ .Release.Name }}-profilarr.{{ .Values.dns_domain }}
            description: Manage Aar Profiles 
            siteMonitor: http://profilarr:3000
        {{ end }}            

        {{ if .Values.clidebrid.enabled  }}
        - cli-debrid:
            icon: real-debrid.png
            href: https://{{ .Release.Name }}-cli-debrid.{{ .Values.dns_domain }}
            description: Sync Plex with RealDebrid (with a UI)
            siteMonitor: http://cli-debrid:5000            
        {{ end }}  

        {{ if .Values.plexdebrid.enabled  }}
        - plex-debrid:
            icon: real-debrid.png
            href: https://{{ .Release.Name }}-plex-debrid.{{ .Values.dns_domain }}
            description: Sync Plex/Jellyfin with Debrid services
            siteMonitor: http://plex-debrid:3001            
        {{ end }}  

        {{ if .Values.riven.enabled }}
        - Riven:
            icon: https://avatars.githubusercontent.com/u/172203452?s=200&v=4
            href: https://{{ .Release.Name }}-riven.{{ .Values.dns_domain }}
            description: All-in-one Debrid Media Management
            siteMonitor: http://riven:3000
            widget:
                type: customapi
                url: http://riven:8080/api/v1/stats
                refreshInterval: 10000
                method: GET
                mappings:
                - field:
                    data: total_movies
                    label: Movies
                    format: number

                - field:
                    data: total_shows
                    label: Shows
                    format: number

                - field:
                    data: incomplete_items
                    label: Incomplete
                    format: number
                                

        - Riven (Backend):
            icon: mdi-image-filter-hdr-outline
            href: https://{{ .Release.Name }}-riven-backend.{{ .Values.dns_domain }}
            description: Geek out over Riven's backend
            siteMonitor: http://riven:3001                       
        {{ end }}            

        {{ if or .Values.immich.enabled }}
        - Immich:
            icon: imming.png
            href: https://{{ .Release.Name }}-immich.{{ .Values.dns_domain }}
            description: Manage Photos
            siteMonitor: http://immich:2283
        {{ end }}                    

    - Download Media:
        {{ if .Values.nzbget.enabled }}
        - NZBGet:
            icon: nzbget.png
            href: https://{{ .Release.Name }}-nzbget.{{ .Values.dns_domain }}
            description: Usenet Client  
            siteMonitor: http://nzbget:6789
            widget:
              type: nzbget
              url: http://nzbget:6789
        {{ end }}   

        {{ if .Values.sabnzbd.enabled }}
        - SABnzbd:
            icon: sabnzbd.png
            href: https://{{ .Release.Name }}-sabnzbd.{{ .Values.dns_domain }}
            description: Usenet Client  
            siteMonitor: http://sabnzbd:8080
            widget:
              type: sabnzbd
              url: http://sabnzbd:8080
              key: {{ .Values.sabnzbdexposed.apikey }} 
        {{ end }}
        
        {{ if .Values.prowlarr.enabled }}
        - Prowlarr:
            icon: prowlarr.png
            href: https://{{ .Release.Name }}-prowlarr.{{ .Values.dns_domain }}
            description: Manage Indexers  
            siteMonitor: http://prowlarr:9696
            widget:
              type: prowlarr
              url: http://prowlarr:9696
              key: {{ .Values.prowlarrexposed.apikey }} 
        {{ end }}  

        {{ if .Values.nzbhydra.enabled }}
        - NZB Hydra:
            icon: nzbhydra.png
            href: https://{{ .Release.Name }}-nzbhydra.{{ .Values.dns_domain }}
            description: Manage NZB Indexers  
            siteMonitor: http://nzbhydra:5076
        {{ end }}          

        {{ if .Values.jackett.enabled }}
        - Jackett:
            icon: jackett.png
            href: https://{{ .Release.Name }}-jackett.{{ .Values.dns_domain }}
            description: Manage Indexers  
            siteMonitor: http://jackett:9117
            widget:
              type: jackett
              url: http://jackett:9117          
        {{ end }}                                            

        {{ if or .Values.qbittorrentpia.enabled .Values.qbittorrentgluetun.enabled }}
        - qBittorrent:
            icon: qbittorrent.png
            href: https://{{ .Release.Name }}-qbittorrent.{{ .Values.dns_domain }}
            description: Bittorrent Client
            siteMonitor: http://qbittorrent:8080
            widget:
              type: qbittorrent
              url: http://qbittorrent:8080
        {{ end }}                   

        {{ if or .Values.rutorrentpia.enabled .Values.rutorrentgluetun.enabled }}
        - ruTorrent:
            icon: rutorrent.png
            href: https://{{ .Release.Name }}-rutorrent.{{ .Values.dns_domain }}
            description: Bittorrent Client
            siteMonitor: http://rutorrent:8080
            widget:
              type: rutorrent
              url: http://rutorrent:8080
        {{ end }}  

        {{ if .Values.rdtclient.enabled }}
        - RDT Client:
            icon: rdt-client.png
            href: https://{{ .Release.Name }}-rdtclient.{{ .Values.dns_domain }}
            description: Manage real debrid(-like) services
            siteMonitor: http://rdtclient:6500
        {{ end }}  

        {{ if .Values.debridav.enabled }}
        - DebriDav:
            icon: mdi-cirle
            href: https://{{ .Release.Name }}-debridav.{{ .Values.dns_domain }}
            description: DebriDav
            siteMonitor: http://blackhole:8080
        {{ end }}  

        {{ if .Values.decypharr.enabled }}
        - DebriDav:
            icon: mdi-cirle
            href: https://{{ .Release.Name }}-decypharr.{{ .Values.dns_domain }}
            description: Decypharr
            siteMonitor: http://decypharr:8282
        {{ end }}                                     

        {{ if .Values.cinesync.enabled }}
        - CineSync:
            icon: mdi-cirle
            href: https://{{ .Release.Name }}-cinesync.{{ .Values.dns_domain }}
            description: Sync / sort Debrid media
            siteMonitor: http://cinesync:3001
        {{ end }}  

        {{ if .Values.seerrbridge.enabled }}
        - SeerrBridge:
            icon: mdi-bridge
            href: https://{{ .Release.Name }}-seerrbridge.{{ .Values.dns_domain }}
            description: Download from DMM with Overseerr
            siteMonitor: http://seerrbridge:8777

        - SeerrBridge Backend:
            icon: mdi-bridge
            href: https://{{ .Release.Name }}-seerrbridge-backend.{{ .Values.dns_domain }}
            description: Watch SeerrBridge Backend
            siteMonitor: http://seerrbridge:3001            
        {{ end }}    

        {{ if .Values.listsync.enabled }}
        - ListSync:
            icon: mdi-sync
            href: https://{{ .Release.Name }}-listsync.{{ .Values.dns_domain }}
            {{ if .Values.jellyseerr.enabled }}
            description: "Sync Jellyseer with Lists"
            {{ else }}
            description: "Sync Overseerr with Lists"
            {{ end }}  
            siteMonitor: http://listsync:3001
        {{ end }}                       

        {{ if .Values.zurg.enabled }}
        - Zurg:
            icon: https://debridmediamanager.com/apple-touch-icon.png
            href: https://{{ .Release.Name }}-zurg.{{ .Values.dns_domain }}/http/
            description: Browse Real-Debrid Library
            siteMonitor: http://zurg:9999
            widget:
              type: customapi
              url: http://zurg:9999/stats
              refreshInterval: 10000
              mappings:
                - field: version
                  label: Version
                  format: text
                - field: library_size
                  label: Library Size
                  format: number
                - field:
                    user_info: premium
                  label: Days Remaining
                  format: number
                - field:
                    user_info: points
                  label: Points
                  format: number    
        {{ end }} 

        {{ if .Values.openbooks.enabled }}
        - OpenBooks:
            icon: mdi-book-open-variant
            href: https://{{ .Release.Name }}-openbooks.{{ .Values.dns_domain }}
            description: Manage eBooks Downloads
            siteMonitor: http://openbooks:8000
        {{ end }}  

        {{ if .Values.audiobookrequest.enabled }}
        - AudioBookRequest:
            icon: mdi-book-open-variant
            href: https://{{ .Release.Name }}-audiobookrequest.{{ .Values.dns_domain }}
            description: Manage AudioBooks Downloads
            siteMonitor: http://audiobookrequest:8000
        {{ end }} 

        {{ if .Values.audiobookbayautomated.enabled }}
        - AudioBookBay Automated:
            icon: mdi-book-open-variant
            href: https://{{ .Release.Name }}-audiobookbay-automated.{{ .Values.dns_domain }}
            description: Manage AudioBookBay Downloads
            siteMonitor: http://audiobookbay-automated:5078
        {{ end }}                        

        {{ if or .Values.airdcpppia.enabled .Values.airdcppgluetun.enabled }}
        - AirDC++:
            icon: mdi-image-chart-bubble
            href: https://{{ .Release.Name }}-airdcpp.{{ .Values.dns_domain }}
            description: Manage DC++ Sharing
            siteMonitor: http://airdcpp:5600
        {{ end }}  

        {{ if or .Values.doplarr.enabled }}
        - Doplarr+:
            icon: mdi-image-chat-bubble
            href: https://{{ .Release.Name }}-doplarr.{{ .Values.dns_domain }}
            description: Manage media requests via Discord
            siteMonitor: http://doplarr:3001
        {{ end }}  

        {{ if or .Values.pulsarr.enabled }}
        - Pulsarr:
            icon: mdi-star
            href: https://{{ .Release.Name }}-pulsarr.{{ .Values.dns_domain }}
            description: Add Plex watchlisted items to Aars
            siteMonitor: http://pulsarr:3003
        {{ end }}          

        {{ if or .Values.requestrr.enabled }}
        - Requestrr:
            icon: mdi-image-chat-bubble
            href: https://{{ .Release.Name }}-requestrr.{{ .Values.dns_domain }}
            description: Manage media requests via Chatbot
            siteMonitor: http://requestrr:4545
        {{ end }}                                   

    - General Tools:
        - File Browser:
            icon: filebrowser.png
            href: https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}
            description: Manage Files
            siteMonitor: http://filebrowser:8080

        - Kubernetes Dashboard:
            icon: kubernetes.png
            href: https://{{ .Release.Name }}-kubernetes.{{ .Values.dns_domain }}
            description: Kubernetes Resources
            siteMonitor: http://kubernetes-dashboard:9090

        {{ if .Values.rdebridui.enabled }}
        - RDebrid UI:
            icon: privatebin.png
            href: https://{{ .Release.Name }}-rdebrid-ui.{{ .Values.dns_domain }}
            description: Manage RealDebrid Account
            siteMonitor: http://rdebrid-ui:8080
        {{ end }}

        {{ if .Values.privatebin.enabled }}
        - PrivateBin:
            icon: privatebin.png
            href: https://{{ .Release.Name }}-privatebin.{{ .Values.dns_domain }}
            description: Securely Share Snippets
            siteMonitor: http://privatebin:8080
        {{ end }}

        {{ if .Values.actual.enabled }}
        - Actual:
            icon: actual.png
            href: https://{{ .Release.Name }}-actual.{{ .Values.dns_domain }}
            description: Actual Budget
            siteMonitor: http://actual:5006
        {{ end }}        
        
        {{ if .Values.miniflux.enabled }}
        - MiniFlux:
            icon: miniflux.png
            href: https://{{ .Release.Name }}-miniflux.{{ .Values.dns_domain }}
            description: Minimalist RSS client
            siteMonitor: http://miniflux:8080
            widget:
              type: miniflux
              url: http://miniflux:8080
              key: {{`{{HOMEPAGE_FILE_MINIFLUX_KEY}}`}} 
        {{ end }}  

        {{ if .Values.gotosocial.enabled }}
        - GoToSocial:
            icon: gotosocial.png
            href: https://{{ .Release.Name }}-gotosocial.{{ .Values.dns_domain }}
            description: Federated Microblogging
            siteMonitor: http://gotosocial:8080 
        - GoToSocial Admin CLI:
            icon: gotosocial.png
            href: https://{{ .Release.Name }}-gotosocial-cli.{{ .Values.dns_domain }}
            description: GoToSocial Admin CLI
            siteMonitor: http://gotosocial:3001             
        {{ end }}   

        {{ if .Values.blueskypds.enabled }}
        - Bluesky PDS:
            icon: bluesky.png
            href: https://{{ .Release.Name }}-bluesky-pds.{{ .Values.dns_domain }}
            description: Federated Microblogging
            siteMonitor: http://bluesky-pds:3000
        - Bluesky PDS Admin CLI:
            icon: gotosocial.png
            href: https://{{ .Release.Name }}-bluesky-pds-cli.{{ .Values.dns_domain }}
            description: Bluesky PDS Admin CLI
            siteMonitor: http://bluesky-pds:3001             
        {{ end }}                         
        
        {{ if .Values.uptimekuma.enabled }}
        - Uptime Kuma:
            icon: uptime-kuma.png
            {{- if .Values.uptimekumacustomdomain.enabled }}
            href: "https://{{ .Values.uptimekumacustomdomain.cname | lower }}"
            {{- else }}
            href: "https://{{ .Release.Name }}-uptime-kuma.{{ .Values.dns_domain }}"
            {{- end }}
            description: Uptime Monitor
            siteMonitor: http://uptime-kuma:3001
            widget:
              type: uptimekuma
              url: http://uptime-kuma:3001
              key: {{`{{HOMEPAGE_FILE_UPTIMEKUMA_SLUG}}`}} 
        {{ end }}         

        {{ if .Values.gotify.enabled }}
        - Gotify:
            icon: gotify.png
            href: https://{{ .Release.Name }}-gotify.{{ .Values.dns_domain }}
            description: Aggregate your notifications
            siteMonitor: http://gotify:8080
            widget:
              type: gotify
              url: http://gotify:8080
              key: {{`{{HOMEPAGE_FILE_GOTIFY_KEY}}`}} 
        {{ end }}     

        {{ if .Values.thelounge.enabled }}
        - TheLounge:
            icon: thelounge.png
            href: https://{{ .Release.Name }}-thelounge.{{ .Values.dns_domain }}
            description: Modern IRC client
            siteMonitor: http://thelounge:9000
        {{ end }}             

        {{ if .Values.vaultwarden.enabled }}
        - Vaultwarden:
            icon: vaultwarden.png
            href: https://{{ .Release.Name }}-vaultwarden.{{ .Values.dns_domain }}
            description: Securely manage passwords / secrets
            siteMonitor: http://vaultwarden:8000
        {{ end }}    

        {{ if .Values.puter.enabled }}
        - Puter:
            icon: puter.png
            href: https://{{ .Release.Name }}-puter.{{ .Values.dns_domain }}
            description: Remotely compute
            siteMonitor: http://puter:4100
        {{ end }}             

        {{ if .Values.mattermost.enabled }}
        - Mattermost:
            icon: mattermost.png
            href: https://{{ .Release.Name }}-mattermost.{{ .Values.dns_domain }}
            description: Team group chat
            siteMonitor: http://mattermost:8065
        {{ end }}   

        {{ if .Values.joplinserver.enabled }}
        - Joplin Server:
            icon: joplin.png
            href: https://{{ .Release.Name }}-joplin-server.{{ .Values.dns_domain }}
            description: Manage Joplin Sync
            siteMonitor: http://joplinserver:22300
        {{ end }}                    

        {{ if .Values.wallabag.enabled }}
        - Wallabag:
            icon: wallabag.png
            href: https://{{ .Release.Name }}-wallabag.{{ .Values.dns_domain }}
            description: Read it Later
            siteMonitor: http://wallabag:8000
        {{ end }} 

        {{ if .Values.wger.enabled }}
        - Wger:
            icon: wger.png
            href: https://{{ .Release.Name }}-wger.{{ .Values.dns_domain }}
            description: Track fitness and nutrition
            siteMonitor: http://wger:8000
        {{ end }}           

        {{ if .Values.pgadmin.enabled }}
        - PGAdmin:
            icon: pgadmin.png
            href: https://{{ .Release.Name }}-pgadmin.{{ .Values.dns_domain }}
            description: PostgreSQL Admin
            siteMonitor: http://pgadmin:80
        {{ end }}    

        {{ if .Values.redisinsight.enabled }}
        - PGAdmin:
            icon: redis.png
            href: https://{{ .Release.Name }}-redisinsight.{{ .Values.dns_domain }}
            description: PostgreSQL Admin
            siteMonitor: http://redisinsight:5540
        {{ end }} 

        {{ if .Values.codeserver.enabled }}
        - Code Server:
            icon: codeserver.png
            href: https://{{ .Release.Name }}-codeserver.{{ .Values.dns_domain }}
            description: Code Server
            siteMonitor: http://code-server:8080
        {{ end }}  

        {{ if .Values.peertube.enabled }}
        - PeerTube:
            icon: peertube.png
            href: https://{{ .Release.Name }}-peertube.{{ .Values.dns_domain }}
            description: PeerTube
            siteMonitor: http://peertube:9000
        {{ end }}                                       

        {{ if .Values.gluetun.enabled }}
        - Gluetun:
            icon: mdi-lock
            href: "https://{{ .Release.Name }}-kubernetes.{{ .Values.dns_domain }}/#/configmap/aa-{{ .Release.Name }}/gluetun-config?namespace=aa-{{ .Release.Name }}"
            description: Configure your BYO VPN
        {{ end }}    

        {{ if .Values.pairdrop.enabled }}
        - PairDrop:
            icon: pairdrop.png
            href: https://{{ .Release.Name }}-pairdrop.{{ .Values.dns_domain }}
            description: Simply share files
            siteMonitor: http://pairdrop:3000
        {{ end }}   

        {{ if .Values.nightscout.enabled }}
        - Nightscout:
            icon: nightscout.png
            href: https://{{ .Release.Name }}-nightscout.{{ .Values.dns_domain }}
            description: Manage CGM data
            siteMonitor: http://nightscout:1337
        {{ end }}     

    - Migration Tools:
        - Rclone UI:
            icon: rclone.png
            {{ if .Values.rclonefm.enabled }}
            href: "https://{{ .Release.Name }}-rcloneui.{{ .Values.dns_domain }}"
            siteMonitor: http://rcloneui:5572
            {{ else }}
            href: https://store.elfhosted.com/product/rcloneui
            {{ end }}
            description: Rclone UI

        - Rclone FM:
            icon: rclone.png
            {{ if .Values.rclonefm.enabled }}
            href: "https://{{ .Release.Name }}-rclonefm.{{ .Values.dns_domain }}"
            siteMonitor: http://rclonefm:5573
            {{ else }}
            href: https://store.elfhosted.com/product/rclonefm
            {{ end }}
            description: Rclone File Manager

        - Rclone Remotes:
            icon: rclone.png
            href: https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/rclonebrowser/rclone.conf
            description: Your configured Rclone remotes  
            siteMonitor: http://filebrowser:8080     

        {{ if .Values.webdav.enabled }}
        - WebDAV:
            icon: webdav.png
            href: https://{{ .Release.Name }}-webdav.{{ .Values.dns_domain }}
            description: Your WebDAV endpoint for migration
            siteMonitor: http://rclonebrowser:5574
        {{ end }}

        {{ if .Values.rclonealldebrid.enabled }}
        - AllDebrid:
            icon: webdav.png
            href: https://{{ .Release.Name }}-alldebrid.{{ .Values.dns_domain }}
            description: Your AllDebrid library
            siteMonitor: http://alldebrid:9999
        {{ end }}

        {{ if .Values.rclonedebridlink.enabled }}
        - Debrid-Link:
            icon: webdav.png
            href: https://{{ .Release.Name }}-debridlink.{{ .Values.dns_domain }}
            description: Your Debrid-Link library
            siteMonitor: http://debridlink:9999
        {{ end }}     

        {{ if .Values.rclonepremiumize.enabled }}
        - Premiumize:
            icon: webdav.png
            href: https://{{ .Release.Name }}-premiumize.{{ .Values.dns_domain }}
            description: Your Premiumize library
            siteMonitor: http://premiumize:9999
        {{ end }}                

        {{ if .Values.webdavplus.enabled }}
        - WebDAV Plus:
            icon: webdav.png
            href: https://{{ .Release.Name }}-webdav-plus.{{ .Values.dns_domain }}
            description: Your WebDAV Plus endpoint for migration at 150Mbps
            siteMonitor: http://webdav-plus:5574
        {{ end }}        
        

  widgets.yaml: |

    - logo:
        icon: https://elfhosted.com/images/logo.png
        
    - greeting:
        text_size: 2xl
        text: ElfHosted / {{ .Release.Name }}

    - resources:
        label: /config
        disk: /config
    - resources:
        label: /logs
        disk: /logs
    - resources:
        label: /backup
        disk: /backup

  bookmarks.yaml: |
    - Links:
        - App Health:
            - abbr: GA
              href: "https://{{ .Release.Name }}-health.{{ .Values.dns_domain }}"
              icon: gatus.png
              description: Health stats
        - My Account:
            - abbr: GA
              href: "https://store.elfhosted.com/my-account/subscriptions/"
              icon: mdi-account-cog        
              description: My Account      
        - Discord:
            - abbr: DI
              href: https://discord.elfhosted.com
              icon: discord.png
              description: Join us!
        - Docs:
            - abbr: DO
              href: https://docs.elfhosted.com
              icon: mdi-lifebuoy
              description: Documentation         

{{ end }}